sudo: false

language: go
go:
  - 1.8.x
  - 1.9.x
  - 1.10.x
  - master

env:
  matrix:
    - MODE=default
    - MODE=breaking

matrix:
  exclude:
  - go: 1.8.x
    env: MODE=breaking
  - go: 1.9.x
    env: MODE=breaking
  - go: master
    env: MODE=breaking
  allow_failures:
    - env: MODE=breaking
    - go: master

install:
  - go get -u github.com/golang/lint/golint
  - go get -u github.com/golang/dep/cmd/dep
  - dep ensure

script:
  - bash ci.sh
